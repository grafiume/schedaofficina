<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Reindirizzamento…</title>
  <style>body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;padding:20px}</style>
</head>
<body>
  <p>Reindirizzamento in corso…</p>
  <script>
    (function(){
      function go(url){
        try{ window.location.replace(url); }catch(e){ try{ window.location.assign(url); }catch(e2){ location.href = url; } }
      }
      try{
        var u = new URL(location.href);
        var to = u.searchParams.get('to') || '';
        if(!to){ document.body.innerHTML = '<p>URL mancante.</p>'; return; }
        // Fallback multipli + link manuale
        var meta = document.createElement('meta'); meta.httpEquiv='refresh'; meta.content='0;url='+to; document.head.appendChild(meta);
        var a = document.createElement('a'); a.href=to; a.rel='noopener'; a.style.display='none'; document.body.appendChild(a);
        try{ a.click(); }catch(e){}
        setTimeout(function(){ go(to); }, 0);
        setTimeout(function(){ document.body.innerHTML += '<p><a href="'+to+'">Apri manualmente</a></p>'; }, 600);
      }catch(e){
        document.body.innerHTML = '<p>Errore redirect.</p>';
      }
    })();
  </script>
</body>
</html>
